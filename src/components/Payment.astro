---
export interface Props {
	nombreEvento: string
	ubicacionEvento: string
	fechaEvento: string
	numeroWhatsapp: string
	fechasCuotas: string[]
}

const {
	nombreEvento,
	ubicacionEvento,
	fechaEvento,
	numeroWhatsapp,
	fechasCuotas,
} = Astro.props as Props
---

<section class="max-w-md mx-auto p-6 space-y-6 bg-white rounded-2xl shadow">
	<!-- Logo -->
	<div class="flex justify-center">
		<img src="/logo-acuotas.svg" alt="AcuotasApp" class="h-10" />
	</div>

	<!-- Título -->
	<h1 class="text-xl font-bold text-center text-primary-600">
		🎟️ Tu boleto está reservado
	</h1>

	<!-- Mensaje de éxito -->
	<div class="text-center text-gray-700 space-y-2">
		<p>✅ ¡Recibimos tu primer abono con éxito!</p>
		<p>Gracias por confiar en AcuotasApp.</p>
		<p>
			En menos de 24 horas te escribiremos por WhatsApp para continuar con el
			proceso.
		</p>
	</div>

	<!-- Información del evento -->
	<div class="bg-gray-50 p-4 rounded-xl text-sm text-gray-800">
		<p>
			<span class="font-semibold">Evento:</span>
			<span class="text-primary-700">{nombreEvento}</span>
		</p>
		<p><span class="font-semibold">Ubicación:</span> {ubicacionEvento}</p>
		<p><span class="font-semibold">Fecha:</span> {fechaEvento}</p>
	</div>

	<!-- Fechas de cuotas -->
	<div class="bg-white rounded-2xl shadow p-4 space-y-2">
		<h2 class="text-base font-semibold text-primary-600">
			📅 Tus próximas cuotas
		</h2>
		<p class="text-sm text-gray-600">Pagos cada 15 días</p>

		<!-- Botón colapsable -->
		<button
			data-collapse-toggle="cuotas-fechas"
			type="button"
			class="flex items-center justify-between w-full text-sm font-medium text-primary-600 bg-gray-100 rounded-lg px-4 py-2 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-primary-300 transition"
			aria-expanded="false"
			aria-controls="cuotas-fechas"
		>
			Ver fechas
			<svg
				class="w-4 h-4 transform transition-transform"
				data-collapse-icon
				fill="none"
				stroke="currentColor"
				stroke-width="2"
				viewBox="0 0 24 24"
			>
				<path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"
				></path>
			</svg>
		</button>

		<!-- Fechas -->
		<div id="cuotas-fechas" class="hidden mt-2 text-sm text-gray-700 space-y-1">
			{
				fechasCuotas.map((fecha) => (
					<div>
						• <strong>{fecha}</strong>
					</div>
				))
			}
			<p class="text-xs text-gray-500 mt-2">
				Completa todos los pagos antes del evento para asegurar tu entrada.
			</p>
		</div>
	</div>

	<!-- Botones -->
	<div class="space-y-3">
		<a
			href={`https://wa.me/${numeroWhatsapp}`}
			target="_blank"
			class="block w-full text-center bg-primary-600 text-white font-medium py-2 px-4 rounded-xl hover:bg-primary-700 transition"
		>
			¿Dudas? Escríbenos por WhatsApp
		</a>

		<a
			href="/eventos"
			class="block w-full text-center border border-primary-600 text-primary-600 font-medium py-2 px-4 rounded-xl hover:bg-primary-50 transition"
		>
			Ver más eventos
		</a>
	</div>
</section>
